/*!
 * easy-tooltips
 * Version  : 1.1.0
 * License  : MIT
 * Copyright: 2025 Ewan Howell
 */
const t=document.createElement("div");let e,o,n;function i(t,e){if(void 0===t._animation_duration){const e=getComputedStyle(t).getPropertyValue("--tooltip-animation-length").trim();t._animation_duration=e.endsWith("ms")?parseFloat(e):1e3*parseFloat(e)}t.classList.contains("visible")!==e?void 0===t._timeout?(t._next=void 0,t.classList.toggle("visible",e),t._timeout=setTimeout(()=>{t._timeout=void 0,void 0!==t._next&&i(t,t._next)},t._animation_duration)):t._next=e:t._next=void 0}function l(){if(e){const o=[];let n=e;for(;n&&n!==document.body;)n.hasAttribute("data-tooltip")&&o.push(n),n=n.parentElement;for(let e=o.length-1;e>=0;e--){const n=o[e];let l=n._tooltip,s=n._tooltipText;l||(l=document.createElement("div"),l.className="tooltip",n._tooltip=l,n.dataset.tooltipId&&(l.id=n.dataset.tooltipId),s=document.createElement("div"),s.className="tooltip-text",s.innerHTML=n.dataset.tooltip,l.append(s),n._tooltipText=s,t.append(l));const a=n.getBoundingClientRect(),r=Math.round(a.left+a.width/2),d=Math.round(a.top),c=l.getBoundingClientRect(),p=getComputedStyle(l),m=parseFloat(p.getPropertyValue("--tooltip-vertical-distance")),u=parseFloat(p.getPropertyValue("--tooltip-arrow-size")),y=parseFloat(p.getPropertyValue("--tooltip-arrow-edge-buffer")),v=parseFloat(p.getPropertyValue("--tooltip-viewport-padding"));i(l,!0);const h=c.width,g=c.height,f=g+m;l.style.setProperty("left",`${r}px`),l.style.removeProperty("translate"),s.style.removeProperty("translate"),d-f>v?(l.classList.remove("below"),l.classList.remove("inside"),l.style.setProperty("top",`${d}px`)):d+a.height+g+m<document.documentElement.clientHeight-v?(l.classList.add("below"),l.classList.remove("inside"),l.style.setProperty("top",`${d+a.height}px`)):(l.classList.remove("below"),l.classList.add("inside"));const _=h/2-u/2-y,x=r-h/2,E=r+h/2;if(x<v){const t=v-x,e=Math.min(t,_);s.style.setProperty("translate",`${e}px`),x+e<v&&l.style.setProperty("translate",v-(x+e)+"px 0")}else if(E>document.documentElement.clientWidth-v){const t=E-(document.documentElement.clientWidth-v),e=Math.min(t,_);s.style.setProperty("translate",`-${e}px`),E-e>document.documentElement.clientWidth-v&&l.style.setProperty("translate",`-${E-e-(document.documentElement.clientWidth-v)}px 0`)}}}}function s(t,e){for(let o of t)for(;o&&o!==document.body&&(!o._tooltip||o.matches(":hover")&&!e||i(o._tooltip,!1),!e);)o=o.parentElement}function a(t){o?n=t:(o=!0,t(),queueMicrotask(()=>{if(o=!1,n){const t=n;n=null,a(t)}}))}function r(){a(()=>{l()})}t.id="tooltips",document.body.append(t),document.addEventListener("mouseover",t=>{a(()=>{e=t.target,l()})}),document.addEventListener("touchstart",t=>{a(()=>{e=t.target;s(Array.from(document.querySelectorAll("[data-tooltip]")).filter(t=>!t.contains(e)),!0),l()})}),document.addEventListener("mouseout",t=>s([t.target])),window.addEventListener("resize",r),window.addEventListener("scroll",r);